<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_45) on Wed Dec 18 14:07:20 EST 2013 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>EventBus (Zodiark Project 1.0.0-SNAPSHOT API)</title>
<meta name="date" content="2013-12-18">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="EventBus (Zodiark Project 1.0.0-SNAPSHOT API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/EventBus.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/zodiark/server/EnvelopeDigester.html" title="class in org.zodiark.server"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../org/zodiark/server/EventBusFactory.html" title="class in org.zodiark.server"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/zodiark/server/EventBus.html" target="_top">Frames</a></li>
<li><a href="EventBus.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.zodiark.server</div>
<h2 title="Interface EventBus" class="title">Interface EventBus</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><a href="../../../org/zodiark/server/impl/DefaultEventBus.html" title="class in org.zodiark.server.impl">DefaultEventBus</a></dd>
</dl>
<hr>
<br>
<pre>public interface <span class="strong">EventBus</span></pre>
<div class="block">A distributed lightweight event bus which can encompass multiple Service instances. The event bus implements publish / subscribe and point to point messaging.
 Messages sent over the event bus can be of any type. For publish / subscribe, messages can be published to a <a href="../../../org/zodiark/service/Service.html" title="interface in org.zodiark.service"><code>Service</code></a> annotated with the <a href="../../../org/zodiark/server/annotation/On.html#value()"><code>On.value()</code></a>
 using one of the <a href="../../../org/zodiark/server/EventBus.html#ioEvent(org.zodiark.protocol.Envelope, org.atmosphere.cpr.AtmosphereResource)"><code>ioEvent(org.zodiark.protocol.Envelope, org.atmosphere.cpr.AtmosphereResource)</code></a> and <a href="../../../org/zodiark/server/EventBus.html#message(java.lang.String, java.lang.Object)"><code>message(String, Object)</code></a>.
 <a href="../../../org/zodiark/server/EventBus.html#ioEvent(org.zodiark.protocol.Envelope, org.atmosphere.cpr.AtmosphereResource)"><code>ioEvent(org.zodiark.protocol.Envelope, org.atmosphere.cpr.AtmosphereResource)</code></a> and
 <a href="../../../org/zodiark/server/EventBus.html#ioEvent(org.zodiark.protocol.Envelope, org.atmosphere.cpr.AtmosphereResource, org.zodiark.server.Reply)"><code>ioEvent(org.zodiark.protocol.Envelope, org.atmosphere.cpr.AtmosphereResource, Reply)</code></a> are used to publish I/O events to <a href="../../../org/zodiark/service/Service.html" title="interface in org.zodiark.service"><code>Service</code></a>
 tha require the manipulation of <code>AtmosphereResource</code>. <a href="../../../org/zodiark/server/EventBus.html#message(java.lang.String, java.lang.Object)"><code>message(String, Object)</code></a> and <a href="../../../org/zodiark/server/EventBus.html#message(java.lang.String, java.lang.Object, org.zodiark.server.Reply)"><code>message(String, Object, Reply)</code></a> are used to publish message to other
 <a href="../../../org/zodiark/service/Service.html" title="interface in org.zodiark.service"><code>Service</code></a>

 <a href="../../../org/zodiark/service/Service.html" title="interface in org.zodiark.service"><code>Service</code></a> are registered against a path, defined using the <a href="../../../org/zodiark/server/annotation/On.html" title="annotation in org.zodiark.server.annotation"><code>On</code></a>. There can be multiple Service registered against each path,
 and a particular Service can be registered against multiple paths. The event bus will route a sent message to all Service which are registered against that path.
 All messages sent over the bus are transient. On event of failure of all or part of the event bus messages may be lost.
 Applications should be coded to cope with lost messages, e.g. by resending them, and making application services idempotent.
 When sending a message, a <a href="../../../org/zodiark/server/Reply.html" title="interface in org.zodiark.server"><code>Reply</code></a> can be provided. If so, it will be called when the reply from the receiver has been completed.
 Instances of EventBus are thread-safe.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../org/zodiark/server/EventBus.html" title="interface in org.zodiark.server">EventBus</a></code></td>
<td class="colLast"><code><strong><a href="../../../org/zodiark/server/EventBus.html#ioEvent(org.zodiark.protocol.Envelope, org.atmosphere.cpr.AtmosphereResource)">ioEvent</a></strong>(<a href="../../../org/zodiark/protocol/Envelope.html" title="class in org.zodiark.protocol">Envelope</a>&nbsp;e,
       org.atmosphere.cpr.AtmosphereResource&nbsp;r)</code>
<div class="block">Deliver an I/O event to the <a href="../../../org/zodiark/service/Service.html" title="interface in org.zodiark.service"><code>Service</code></a> that match the <a href="../../../org/zodiark/protocol/Envelope.html#getMessage()"><code>Envelope.getMessage()</code></a>'s path value.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../org/zodiark/server/EventBus.html" title="interface in org.zodiark.server">EventBus</a></code></td>
<td class="colLast"><code><strong><a href="../../../org/zodiark/server/EventBus.html#ioEvent(org.zodiark.protocol.Envelope, org.atmosphere.cpr.AtmosphereResource, org.zodiark.server.Reply)">ioEvent</a></strong>(<a href="../../../org/zodiark/protocol/Envelope.html" title="class in org.zodiark.protocol">Envelope</a>&nbsp;e,
       org.atmosphere.cpr.AtmosphereResource&nbsp;r,
       <a href="../../../org/zodiark/server/Reply.html" title="interface in org.zodiark.server">Reply</a>&nbsp;reply)</code>
<div class="block">Deliver an I/O events to the <a href="../../../org/zodiark/service/Service.html" title="interface in org.zodiark.service"><code>Service</code></a> that match the <a href="../../../org/zodiark/protocol/Envelope.html#getMessage()"><code>Envelope.getMessage()</code></a>'s path value.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../org/zodiark/server/EventBus.html" title="interface in org.zodiark.server">EventBus</a></code></td>
<td class="colLast"><code><strong><a href="../../../org/zodiark/server/EventBus.html#message(java.lang.String, java.lang.Object)">message</a></strong>(<a href="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;path,
       <a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;message)</code>
<div class="block">Deliver a message to the <a href="../../../org/zodiark/service/Service.html" title="interface in org.zodiark.service"><code>Service</code></a> that match the path value.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../org/zodiark/server/EventBus.html" title="interface in org.zodiark.server">EventBus</a></code></td>
<td class="colLast"><code><strong><a href="../../../org/zodiark/server/EventBus.html#message(java.lang.String, java.lang.Object, org.zodiark.server.Reply)">message</a></strong>(<a href="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;path,
       <a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;message,
       <a href="../../../org/zodiark/server/Reply.html" title="interface in org.zodiark.server">Reply</a>&nbsp;reply)</code>
<div class="block">Deliver a message to the <a href="../../../org/zodiark/service/Service.html" title="interface in org.zodiark.service"><code>Service</code></a> that match the path value.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../org/zodiark/server/EventBus.html" title="interface in org.zodiark.server">EventBus</a></code></td>
<td class="colLast"><code><strong><a href="../../../org/zodiark/server/EventBus.html#off(java.lang.String)">off</a></strong>(<a href="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;path)</code>
<div class="block">Unregister <a href="../../../org/zodiark/service/Service.html" title="interface in org.zodiark.service"><code>Service</code></a></div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../org/zodiark/server/EventBus.html" title="interface in org.zodiark.server">EventBus</a></code></td>
<td class="colLast"><code><strong><a href="../../../org/zodiark/server/EventBus.html#on(java.lang.String, org.zodiark.service.Service)">on</a></strong>(<a href="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;path,
  <a href="../../../org/zodiark/service/Service.html" title="interface in org.zodiark.service">Service</a>&nbsp;service)</code>
<div class="block">Register a path and a <a href="../../../org/zodiark/service/Service.html" title="interface in org.zodiark.service"><code>Service</code></a>.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="ioEvent(org.zodiark.protocol.Envelope, org.atmosphere.cpr.AtmosphereResource)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ioEvent</h4>
<pre><a href="../../../org/zodiark/server/EventBus.html" title="interface in org.zodiark.server">EventBus</a>&nbsp;ioEvent(<a href="../../../org/zodiark/protocol/Envelope.html" title="class in org.zodiark.protocol">Envelope</a>&nbsp;e,
               org.atmosphere.cpr.AtmosphereResource&nbsp;r)</pre>
<div class="block">Deliver an I/O event to the <a href="../../../org/zodiark/service/Service.html" title="interface in org.zodiark.service"><code>Service</code></a> that match the <a href="../../../org/zodiark/protocol/Envelope.html#getMessage()"><code>Envelope.getMessage()</code></a>'s path value.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>e</code> - an <a href="../../../org/zodiark/protocol/Envelope.html" title="class in org.zodiark.protocol"><code>Envelope</code></a></dd><dd><code>r</code> - an <code>AtmosphereResource</code></dd>
<dt><span class="strong">Returns:</span></dt><dd>this</dd></dl>
</li>
</ul>
<a name="ioEvent(org.zodiark.protocol.Envelope, org.atmosphere.cpr.AtmosphereResource, org.zodiark.server.Reply)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ioEvent</h4>
<pre><a href="../../../org/zodiark/server/EventBus.html" title="interface in org.zodiark.server">EventBus</a>&nbsp;ioEvent(<a href="../../../org/zodiark/protocol/Envelope.html" title="class in org.zodiark.protocol">Envelope</a>&nbsp;e,
               org.atmosphere.cpr.AtmosphereResource&nbsp;r,
               <a href="../../../org/zodiark/server/Reply.html" title="interface in org.zodiark.server">Reply</a>&nbsp;reply)</pre>
<div class="block">Deliver an I/O events to the <a href="../../../org/zodiark/service/Service.html" title="interface in org.zodiark.service"><code>Service</code></a> that match the <a href="../../../org/zodiark/protocol/Envelope.html#getMessage()"><code>Envelope.getMessage()</code></a>'s path value.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>e</code> - an <a href="../../../org/zodiark/protocol/Envelope.html" title="class in org.zodiark.protocol"><code>Envelope</code></a></dd><dd><code>r</code> - an <code>AtmosphereResource</code></dd><dd><code>reply</code> - a <a href="../../../org/zodiark/server/Reply.html" title="interface in org.zodiark.server"><code>Reply</code></a> for handling the <a href="../../../org/zodiark/service/Service.html" title="interface in org.zodiark.service"><code>Service</code></a>'s success of failure</dd>
<dt><span class="strong">Returns:</span></dt><dd>this</dd></dl>
</li>
</ul>
<a name="message(java.lang.String, java.lang.Object)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>message</h4>
<pre><a href="../../../org/zodiark/server/EventBus.html" title="interface in org.zodiark.server">EventBus</a>&nbsp;message(<a href="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;path,
               <a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;message)</pre>
<div class="block">Deliver a message to the <a href="../../../org/zodiark/service/Service.html" title="interface in org.zodiark.service"><code>Service</code></a> that match the path value.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>path</code> - an <a href="../../../org/zodiark/protocol/Envelope.html" title="class in org.zodiark.protocol"><code>Envelope</code></a></dd><dd><code>message</code> - an <code>AtmosphereResource</code></dd>
<dt><span class="strong">Returns:</span></dt><dd>this</dd></dl>
</li>
</ul>
<a name="message(java.lang.String, java.lang.Object, org.zodiark.server.Reply)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>message</h4>
<pre><a href="../../../org/zodiark/server/EventBus.html" title="interface in org.zodiark.server">EventBus</a>&nbsp;message(<a href="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;path,
               <a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;message,
               <a href="../../../org/zodiark/server/Reply.html" title="interface in org.zodiark.server">Reply</a>&nbsp;reply)</pre>
<div class="block">Deliver a message to the <a href="../../../org/zodiark/service/Service.html" title="interface in org.zodiark.service"><code>Service</code></a> that match the path value.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>path</code> - an <a href="../../../org/zodiark/protocol/Envelope.html" title="class in org.zodiark.protocol"><code>Envelope</code></a></dd><dd><code>message</code> - an <code>AtmosphereResource</code></dd><dd><code>reply</code> - a <a href="../../../org/zodiark/server/Reply.html" title="interface in org.zodiark.server"><code>Reply</code></a> for handling the <a href="../../../org/zodiark/service/Service.html" title="interface in org.zodiark.service"><code>Service</code></a>'s success of failure</dd>
<dt><span class="strong">Returns:</span></dt><dd>this</dd></dl>
</li>
</ul>
<a name="on(java.lang.String, org.zodiark.service.Service)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>on</h4>
<pre><a href="../../../org/zodiark/server/EventBus.html" title="interface in org.zodiark.server">EventBus</a>&nbsp;on(<a href="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;path,
          <a href="../../../org/zodiark/service/Service.html" title="interface in org.zodiark.service">Service</a>&nbsp;service)</pre>
<div class="block">Register a path and a <a href="../../../org/zodiark/service/Service.html" title="interface in org.zodiark.service"><code>Service</code></a>. This is the same as doing the <a href="../../../org/zodiark/server/annotation/On.html" title="annotation in org.zodiark.server.annotation"><code>On</code></a></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>path</code> - the path that will be used to map <a href="../../../org/zodiark/service/Service.html" title="interface in org.zodiark.service"><code>Service</code></a></dd><dd><code>service</code> - an instance of <a href="../../../org/zodiark/service/Service.html" title="interface in org.zodiark.service"><code>Service</code></a></dd>
<dt><span class="strong">Returns:</span></dt><dd>this</dd></dl>
</li>
</ul>
<a name="off(java.lang.String)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>off</h4>
<pre><a href="../../../org/zodiark/server/EventBus.html" title="interface in org.zodiark.server">EventBus</a>&nbsp;off(<a href="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;path)</pre>
<div class="block">Unregister <a href="../../../org/zodiark/service/Service.html" title="interface in org.zodiark.service"><code>Service</code></a></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>path</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd>this</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/EventBus.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/zodiark/server/EnvelopeDigester.html" title="class in org.zodiark.server"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../org/zodiark/server/EventBusFactory.html" title="class in org.zodiark.server"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/zodiark/server/EventBus.html" target="_top">Frames</a></li>
<li><a href="EventBus.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2013. All Rights Reserved.</small></p>
</body>
</html>
